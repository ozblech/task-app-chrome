{"ast":null,"code":"import _classCallCheck from\"/home/oz/Desktop/git/task-app-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/oz/Desktop/git/task-app-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/oz/Desktop/git/task-app-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/oz/Desktop/git/task-app-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import Photo from'../Photo/Photo';var Profile=/*#__PURE__*/function(_React$Component){_inherits(Profile,_React$Component);var _super=_createSuper(Profile);function Profile(props){var _this;_classCallCheck(this,Profile);_this=_super.call(this,props);_this.deleteUser=function(){console.log('Delete: Bearer is: ',_this.props.user.token);var _this$props=_this.props,onRouteChange=_this$props.onRouteChange,onPhotoChange=_this$props.onPhotoChange,user=_this$props.user;fetch('https://blech-task-manager.herokuapp.com/users/me/',{method:'delete',headers:{'content-type':'application/json',Authorization:\"Bearer \".concat(user.token)}}).then(function(response){return response.json();}).then(function(jsonResponse){console.log(jsonResponse);if(jsonResponse._id){onRouteChange('signout');}});};return _this;}_createClass(Profile,[{key:\"render\",value:function render(){var _this$props2=this.props,onPhotoChange=_this$props2.onPhotoChange,user=_this$props2.user;return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"ma4 mt0\"},/*#__PURE__*/React.createElement(\"h1\",null,\"\".concat(user.name))),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h2\",null,\"email: \".concat(user.email)),/*#__PURE__*/React.createElement(\"h2\",null,\"age: \".concat(user.age))),/*#__PURE__*/React.createElement(Photo,{user:user}),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"button\",{className:\"w-30 grow f4 link ph3 pv dib white bg-light-purple\",onClick:this.deleteUser},\"Delete User\")));}}]);return Profile;}(React.Component);export default Profile;","map":{"version":3,"sources":["/home/oz/Desktop/git/task-app-front/src/components/Profile/Profile.js"],"names":["React","Photo","Profile","props","deleteUser","console","log","user","token","onRouteChange","onPhotoChange","fetch","method","headers","Authorization","then","response","json","jsonResponse","_id","name","email","age","Component"],"mappings":"wlBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,KAAP,KAAkB,gBAAlB,C,GAEMC,CAAAA,O,8GAEL,iBAAYC,KAAZ,CAAmB,yCAClB,uBAAMA,KAAN,EADkB,MAInBC,UAJmB,CAIN,UAAM,CAClBC,OAAO,CAACC,GAAR,CAAY,qBAAZ,CAAmC,MAAKH,KAAL,CAAWI,IAAX,CAAgBC,KAAnD,EADkB,gBAE6B,MAAKL,KAFlC,CAEVM,aAFU,aAEVA,aAFU,CAEKC,aAFL,aAEKA,aAFL,CAEoBH,IAFpB,aAEoBA,IAFpB,CAGlBI,KAAK,CAAC,oDAAD,CAAuD,CAC3DC,MAAM,CAAE,QADmD,CAE3DC,OAAO,CAAE,CACR,eAAgB,kBADR,CAERC,aAAa,kBAAYP,IAAI,CAACC,KAAjB,CAFL,CAFkD,CAAvD,CAAL,CAQCO,IARD,CAQM,SAAAC,QAAQ,QAAIA,CAAAA,QAAQ,CAACC,IAAT,EAAJ,EARd,EASCF,IATD,CASM,SAAAG,YAAY,CAAI,CACrBb,OAAO,CAACC,GAAR,CAAYY,YAAZ,EACA,GAAGA,YAAY,CAACC,GAAhB,CAAqB,CACpBV,aAAa,CAAC,SAAD,CAAb,CACA,CACD,CAdD,EAeA,CAtBkB,cAElB,C,2DAsBQ,kBACwB,KAAKN,KAD7B,CACDO,aADC,cACDA,aADC,CACeH,IADf,cACeA,IADf,CAER,mBACA,4CACC,2BAAK,SAAS,CAAC,SAAf,eACC,wCAAQA,IAAI,CAACa,IAAb,EADD,CADD,cAIC,4CACC,+CAAeb,IAAI,CAACc,KAApB,EADD,cAEC,6CAAad,IAAI,CAACe,GAAlB,EAFD,CAJD,cAQC,oBAAC,KAAD,EACA,IAAI,CAAEf,IADN,EARD,cAWC,8BAXD,cAYC,4CACC,8BAAQ,SAAS,CAAC,oDAAlB,CACA,OAAO,CAAG,KAAKH,UADf,gBADD,CAZD,CADA,CAqBA,C,qBAjDoBJ,KAAK,CAACuB,S,EAsD5B,cAAerB,CAAAA,OAAf","sourcesContent":["import React from 'react'\nimport Photo from '../Photo/Photo'\n\nclass Profile extends React.Component  {\n\t\n\tconstructor(props) {\n\t\tsuper(props);\n\t}\n\n\tdeleteUser = () => {\n\t\tconsole.log('Delete: Bearer is: ', this.props.user.token)\n\t\tconst { onRouteChange, onPhotoChange, user } = this.props\n\t\tfetch('https://blech-task-manager.herokuapp.com/users/me/', {\n\t\t\tmethod: 'delete',\n\t\t\theaders: {\n\t\t\t\t'content-type': 'application/json',\n\t\t\t\tAuthorization: `Bearer ${user.token}`\n\t\t\t}\n\t\t\t\n\t\t})\n\t\t.then(response => response.json())\n\t\t.then(jsonResponse => {\n\t\t\tconsole.log(jsonResponse)\n\t\t\tif(jsonResponse._id) {\n\t\t\t\tonRouteChange('signout')\n\t\t\t}\n\t\t})\t\n\t}\n\n\trender() {\n\t\tconst {onPhotoChange , user } = this.props\n\t\treturn (\n\t\t<div>\n\t\t\t<div className='ma4 mt0'>\n\t\t\t\t<h1>{`${user.name}`}</h1>\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t<h2>{`email: ${user.email}`}</h2>\n\t\t\t\t<h2>{`age: ${user.age}`}</h2>\n\t\t\t</div>\n\t\t\t<Photo \n\t\t\tuser={user}\n\t\t\t/>\n\t\t\t<br />\n\t\t\t<div>\n\t\t\t\t<button className='w-30 grow f4 link ph3 pv dib white bg-light-purple'\n\t\t\t\tonClick= {this.deleteUser}\n\t\t\t\t>Delete User</button>\n\t\t\t</div>\n\n\t\t</div>\n\t\t);\n\t}\n\t\n\t\n}\n\nexport default Profile;"]},"metadata":{},"sourceType":"module"}