{"ast":null,"code":"import _classCallCheck from\"/home/oz/Desktop/git/task-app-chrome/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/oz/Desktop/git/task-app-chrome/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/oz/Desktop/git/task-app-chrome/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/oz/Desktop/git/task-app-chrome/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';var SignIn=/*#__PURE__*/function(_React$Component){_inherits(SignIn,_React$Component);var _super=_createSuper(SignIn);function SignIn(props){var _this;_classCallCheck(this,SignIn);_this=_super.call(this,props);_this.onEmailChange=function(event){_this.setState({emailSignIn:event.target.value});};_this.onPasswordChange=function(event){_this.setState({passwordSignIn:event.target.value});};_this.onSubmitSignIn=function(){fetch('https://blech-task-manager.herokuapp.com/users/login',{method:'post',headers:{'content-type':'application/json'},body:JSON.stringify({email:_this.state.emailSignIn,password:_this.state.passwordSignIn})}).then(function(response){return response.json();}).then(function(jsonData){if(jsonData.user){var user=jsonData.user,token=jsonData.token;_this.props.loadUser(user,token);_this.props.onRouteChange('home');}else{_this.setState({loginErrorMsg:'Invalid email or password'});}});};_this.state={emailSignIn:'',passwordSignIn:'',loginErrorMsg:''};return _this;}_createClass(SignIn,[{key:\"render\",value:function render(){var onRouteChange=this.props.onRouteChange;return/*#__PURE__*/React.createElement(\"article\",{className:\"br3 ba dark-gray b--black-10 mv4 w-100 w-50-m w-25-l mw6 shadow-5 center\"},/*#__PURE__*/React.createElement(\"main\",{className:\"pa4 black-80\"},/*#__PURE__*/React.createElement(\"div\",{className:\"measure\"},/*#__PURE__*/React.createElement(\"fieldset\",{id:\"sign_up\",className:\"ba b--transparent ph0 mh0\"},/*#__PURE__*/React.createElement(\"legend\",{className:\"f4 fw6 ph0 mh0\"},\"Sign In\"),/*#__PURE__*/React.createElement(\"div\",{className:\"mt3\"},/*#__PURE__*/React.createElement(\"label\",{className:\"db fw6 lh-copy f6\",htmlFor:\"email-address\"},\"Email\"),/*#__PURE__*/React.createElement(\"input\",{className:\"pa2 input-reset ba bg-transparent hover-bg-black hover-white w-100\",type:\"email\",name:\"email-address\",id:\"email-address\",onChange:this.onEmailChange})),/*#__PURE__*/React.createElement(\"div\",{className:\"mv3\"},/*#__PURE__*/React.createElement(\"label\",{className:\"db fw6 lh-copy f6\",htmlFor:\"password\"},\"Password\"),/*#__PURE__*/React.createElement(\"input\",{className:\"b pa2 input-reset ba bg-transparent hover-bg-black hover-white w-100\",type:\"password\",name:\"password\",id:\"password\",onChange:this.onPasswordChange}))),/*#__PURE__*/React.createElement(\"div\",{className:\"\"},/*#__PURE__*/React.createElement(\"input\",{className:\"b ph3 pv2 input-reset ba b--black bg-transparent grow pointer f6 dib\",type:\"submit\",value:\"Sign in\",onClick:this.onSubmitSignIn})),/*#__PURE__*/React.createElement(\"div\",{className:\"lh-copy mt3\"},/*#__PURE__*/React.createElement(\"p\",{onClick:function onClick(){return onRouteChange('register');},href:\"#0\",className:\"f6 link dim black db pointer\"},\"Register\"))),/*#__PURE__*/React.createElement(\"h6\",{className:\"red pa1 mv1 black-80\"},this.state.loginErrorMsg)));}}]);return SignIn;}(React.Component);export default SignIn;","map":{"version":3,"sources":["/home/oz/Desktop/git/task-app-chrome/src/components/SigninForm/SigninForm.js"],"names":["React","SignIn","props","onEmailChange","event","setState","emailSignIn","target","value","onPasswordChange","passwordSignIn","onSubmitSignIn","fetch","method","headers","body","JSON","stringify","email","state","password","then","response","json","jsonData","user","token","loadUser","onRouteChange","loginErrorMsg","Component"],"mappings":"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","sourcesContent":["import React from 'react'\n\nclass SignIn extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\temailSignIn: '',\n\t\t\tpasswordSignIn: '',\n\t\t\tloginErrorMsg: ''\n\t\t}\n\t}\n\n\tonEmailChange = (event) => {\n\t\tthis.setState({emailSignIn: event.target.value})\n\t}\n\n\n\tonPasswordChange = (event) => {\n\t\tthis.setState({passwordSignIn: event.target.value})\n\t}\n\n\tonSubmitSignIn = () => {\n\t\tfetch('https://blech-task-manager.herokuapp.com/users/login', {\n\t\t\tmethod: 'post',\n\t\t\theaders: {'content-type': 'application/json'},\n\t\t\tbody: JSON.stringify({\n\t\t\t\temail:this.state.emailSignIn,\n\t\t\t\tpassword: this.state.passwordSignIn\n\t\t\t})\n\t\t})\n\t\t.then(response=> response.json())\n\t\t.then(jsonData=> {\n\t\t\tif (jsonData.user) {\n\t\t\t\tconst { user, token } = jsonData\n\t\t\t\tthis.props.loadUser(user, token)\n\t\t\t\tthis.props.onRouteChange('home')\n\t\t\t} else {\n\t\t\t\tthis.setState({loginErrorMsg: 'Invalid email or password'})\n\t\t\t}\n\t\t})\n\t}\n\n\n\trender() {\n\t\tconst { onRouteChange } = this.props\n\t\treturn (\n\t\t\t<article className=\"br3 ba dark-gray b--black-10 mv4 w-100 w-50-m w-25-l mw6 shadow-5 center\">\n\t\t\t\t<main className=\"pa4 black-80\">\n\t\t\t\t  <div className=\"measure\">\n\t\t\t\t    <fieldset id=\"sign_up\" className=\"ba b--transparent ph0 mh0\">\n\t\t\t\t      <legend className=\"f4 fw6 ph0 mh0\">Sign In</legend>\n\t\t\t\t      <div className=\"mt3\">\n\t\t\t\t        <label className=\"db fw6 lh-copy f6\" htmlFor=\"email-address\">Email</label>\n\t\t\t\t        <input \n\t\t\t\t        \tclassName=\"pa2 input-reset ba bg-transparent hover-bg-black hover-white w-100\" \n\t\t\t\t        \ttype=\"email\" \n\t\t\t\t        \tname=\"email-address\"  \n\t\t\t\t        \tid=\"email-address\" \n\t\t\t\t        \tonChange={this.onEmailChange}\n\t\t\t\t        \t/>\n\t\t\t\t      </div>\n\t\t\t\t      <div className=\"mv3\">\n\t\t\t\t        <label className=\"db fw6 lh-copy f6\" htmlFor=\"password\">Password</label>\n\t\t\t\t        <input \n\t\t\t\t        \tclassName=\"b pa2 input-reset ba bg-transparent hover-bg-black hover-white w-100\" \n\t\t\t\t        \ttype=\"password\" \n\t\t\t\t        \tname=\"password\"  \n\t\t\t\t        \tid=\"password\"\n\t\t\t\t        \tonChange={this.onPasswordChange}\n\t\t\t\t        \t/>\n\t\t\t\t      </div>\n\t\t\t\t    </fieldset>\n\t\t\t\t    <div className=\"\">\n\t\t\t\t      <input \n\t\t\t\t      className=\"b ph3 pv2 input-reset ba b--black bg-transparent grow pointer f6 dib\" \n\t\t\t\t      type=\"submit\" \n\t\t\t\t      value=\"Sign in\"\n\t\t\t\t      onClick={this.onSubmitSignIn} \n\t\t\t\t      />\n\t\t\t\t    </div>\n\t\t\t\t    <div className=\"lh-copy mt3\">\n\t\t\t\t      <p onClick={() => onRouteChange('register')}  href=\"#0\" className=\"f6 link dim black db pointer\" >Register</p>\n\t\t\t\t    </div>\n\t\t\t\t  </div>\n\t\t\t\t  <h6 className='red pa1 mv1 black-80'>{this.state.loginErrorMsg}</h6>\n\t\t\t\t</main>\n\t\t\t</article>\n\n\t\t);\n\t} \n\n}\n\nexport default SignIn;"]},"metadata":{},"sourceType":"module"}