{"ast":null,"code":"import _classCallCheck from\"/home/oz/Desktop/git/task-app-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/oz/Desktop/git/task-app-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/oz/Desktop/git/task-app-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/oz/Desktop/git/task-app-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';var EditTaskForm=/*#__PURE__*/function(_React$Component){_inherits(EditTaskForm,_React$Component);var _super=_createSuper(EditTaskForm);function EditTaskForm(props){var _this;_classCallCheck(this,EditTaskForm);_this=_super.call(this,props);_this.onDescriptionChange=function(event){_this.setState({newDescription:event.target.value});};_this.onSubmitEdit=function(){var _this$state=_this.state,user=_this$state.user,newDescription=_this$state.newDescription,taskToEditId=_this$state.taskToEditId,toggleTaskComplete=_this$state.toggleTaskComplete;var patchBody=toggleTaskComplete?{completed:!_this.props.completed}:{description:newDescription};fetch(\"https://blech-task-manager.herokuapp.com/tasks/\".concat(taskToEditId),{method:'PATCH',headers:{'content-type':'application/json; charset=UTF-8',Authorization:\"Bearer \".concat(user.token)},body:JSON.stringify(patchBody)}).then(function(response){return response.json();}).then(function(jsonData){if(jsonData.description){_this.props.getUserTasks();}});};_this.onSubmitCancel=function(){_this.props.editTaskPageOnOff(false);};_this.state={user:_this.props.user,editingTaskDesc:_this.props.editingTaskDesc,completed:_this.props.completed,taskToEditId:_this.props.taskToEditId,getUserTasks:_this.props.getUserTasks,editTaskPageOff:_this.props.editTaskPageOnOff,toggleTaskComplete:_this.props.toggleTaskComplete,newDescription:''};return _this;}_createClass(EditTaskForm,[{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",{className:\"pa4 black-80 flex justify-center center\"},/*#__PURE__*/React.createElement(\"div\",{className:\"measure \"},this.props.toggleTaskComplete?/*#__PURE__*/React.createElement(\"h3\",null,\"Change complete?\"):/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"label\",{form:\"description\",className:\"f6 b db mb2\"},\"Task Description\"),/*#__PURE__*/React.createElement(\"input\",{id:\"newDescription\",className:\"input-reset ba b--black-20 pa2 mb2 db w-100\",type:\"text\",\"aria-describedby\":\"description-desc\",placeholder:this.state.editingTaskDesc,onChange:this.onDescriptionChange}))),/*#__PURE__*/React.createElement(\"button\",{className:\"ph3 link dim f6 ph3 pv2 mb2 dib white bg-navy\",type:\"submit\",onClick:this.onSubmitEdit},\"Update\"),/*#__PURE__*/React.createElement(\"button\",{className:\"ph3 link dim f6 ph3 pv2 mb2 dib white bg-navy\",type:\"cancel\",onClick:this.onSubmitCancel},\"Cancel\")));}}]);return EditTaskForm;}(React.Component);export default EditTaskForm;","map":{"version":3,"sources":["/home/oz/Desktop/git/task-app-front/src/components/EditTaskForm/EditTaskForm.js"],"names":["React","EditTaskForm","props","onDescriptionChange","event","setState","newDescription","target","value","onSubmitEdit","state","user","taskToEditId","toggleTaskComplete","patchBody","completed","description","fetch","method","headers","Authorization","token","body","JSON","stringify","then","response","json","jsonData","getUserTasks","onSubmitCancel","editTaskPageOnOff","editingTaskDesc","editTaskPageOff","Component"],"mappings":"wlBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,C,GAEMC,CAAAA,Y,wHACL,sBAAYC,KAAZ,CAAmB,8CAClB,uBAAMA,KAAN,EADkB,MAenBC,mBAfmB,CAeG,SAACC,KAAD,CAAW,CAChC,MAAKC,QAAL,CAAc,CAACC,cAAc,CAAEF,KAAK,CAACG,MAAN,CAAaC,KAA9B,CAAd,EACA,CAjBkB,OAoBnBC,YApBmB,CAoBJ,UAAM,iBAC+C,MAAKC,KADpD,CACZC,IADY,aACZA,IADY,CACNL,cADM,aACNA,cADM,CACUM,YADV,aACUA,YADV,CACwBC,kBADxB,aACwBA,kBADxB,CAEpB,GAAMC,CAAAA,SAAS,CAAID,kBAAD,CAChB,CACAE,SAAS,CAAG,CAAC,MAAKb,KAAL,CAAWa,SADxB,CADgB,CAKhB,CACAC,WAAW,CAAEV,cADb,CALF,CASAW,KAAK,0DAAmDL,YAAnD,EAAmE,CACvEM,MAAM,CAAE,OAD+D,CAEvEC,OAAO,CAAE,CACR,eAAgB,iCADR,CAERC,aAAa,kBAAYT,IAAI,CAACU,KAAjB,CAFL,CAF8D,CAOvEC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAeV,SAAf,CAPiE,CAAnE,CAAL,CASCW,IATD,CASM,SAAAC,QAAQ,QAAGA,CAAAA,QAAQ,CAACC,IAAT,EAAH,EATd,EAUCF,IAVD,CAUM,SAAAG,QAAQ,CAAG,CAChB,GAAIA,QAAQ,CAACZ,WAAb,CAA0B,CACzB,MAAKd,KAAL,CAAW2B,YAAX,GACA,CACD,CAdD,EAeA,CA9CkB,OAgDnBC,cAhDmB,CAgDF,UAAM,CACtB,MAAK5B,KAAL,CAAW6B,iBAAX,CAA6B,KAA7B,EACA,CAlDkB,CAElB,MAAKrB,KAAL,CAAa,CACZC,IAAI,CAAE,MAAKT,KAAL,CAAWS,IADL,CAEZqB,eAAe,CAAE,MAAK9B,KAAL,CAAW8B,eAFhB,CAGZjB,SAAS,CAAE,MAAKb,KAAL,CAAWa,SAHV,CAIZH,YAAY,CAAE,MAAKV,KAAL,CAAWU,YAJb,CAKZiB,YAAY,CAAE,MAAK3B,KAAL,CAAW2B,YALb,CAMZI,eAAe,CAAE,MAAK/B,KAAL,CAAW6B,iBANhB,CAOZlB,kBAAkB,CAAE,MAAKX,KAAL,CAAWW,kBAPnB,CAQZP,cAAc,CAAE,EARJ,CAAb,CAFkB,aAalB,C,gEAwCQ,CACR,mBACC,2BAAK,SAAS,CAAC,yCAAf,eACE,2BAAK,SAAS,CAAC,UAAf,EAEE,KAAKJ,KAAL,CAAWW,kBAAZ,cAEC,iDAFD,cAIF,4CACC,4CACG,6BAAO,IAAI,CAAC,aAAZ,CAA0B,SAAS,CAAC,aAApC,qBADH,cAEG,6BACA,EAAE,CAAC,gBADH,CAEA,SAAS,CAAC,6CAFV,CAGA,IAAI,CAAC,MAHL,CAIA,mBAAiB,kBAJjB,CAKA,WAAW,CAAI,KAAKH,KAAL,CAAWsB,eAL1B,CAMA,QAAQ,CAAE,KAAK7B,mBANf,EAFH,CADD,CANC,cAoBE,8BACA,SAAS,CAAC,+CADV,CAEA,IAAI,CAAC,QAFL,CAGA,OAAO,CAAE,KAAKM,YAHd,WApBF,cAyBE,8BACA,SAAS,CAAC,+CADV,CAEA,IAAI,CAAC,QAFL,CAGA,OAAO,CAAE,KAAKqB,cAHd,WAzBF,CADF,CADD,CAmCA,C,0BA1FyB9B,KAAK,CAACkC,S,EA8FjC,cAAejC,CAAAA,YAAf","sourcesContent":["import React from 'react'\n\nclass EditTaskForm extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tuser: this.props.user,\n\t\t\teditingTaskDesc: this.props.editingTaskDesc,\n\t\t\tcompleted: this.props.completed,\n\t\t\ttaskToEditId: this.props.taskToEditId,\n\t\t\tgetUserTasks: this.props.getUserTasks,\n\t\t\teditTaskPageOff: this.props.editTaskPageOnOff,\n\t\t\ttoggleTaskComplete: this.props.toggleTaskComplete,\n\t\t\tnewDescription: ''\n\n\t\t}\n\t}\n\n\tonDescriptionChange = (event) => {\n\t\tthis.setState({newDescription: event.target.value})\n\t}\n\n\n\tonSubmitEdit = () => {\n\t\tconst { user, newDescription, taskToEditId, toggleTaskComplete } = this.state\n\t\tconst patchBody = (toggleTaskComplete) ?\n\t\t\t({\n\t\t\t\tcompleted : !this.props.completed\n\t\t\t})\n\t\t\t:\n\t\t\t({\n\t\t\t\tdescription: newDescription\n\t\t\t})\n\n\t\tfetch(`https://blech-task-manager.herokuapp.com/tasks/${taskToEditId}`, {\n\t\t\tmethod: 'PATCH',\n\t\t\theaders: {\n\t\t\t\t'content-type': 'application/json; charset=UTF-8',\n\t\t\t\tAuthorization: `Bearer ${user.token}`\n\t\t\t},\n\n\t\t\tbody: JSON.stringify(patchBody)\n\t\t})\n\t\t.then(response=> response.json())\n\t\t.then(jsonData=> {\n\t\t\tif (jsonData.description) {\n\t\t\t\tthis.props.getUserTasks()\n\t\t\t}\n\t\t})\n\t}\n\n\tonSubmitCancel = () => {\n\t\tthis.props.editTaskPageOnOff(false)\n\t}\n\n\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"pa4 black-80 flex justify-center center\">\n\t\t\t  <div className=\"measure \">\n\t\t\t  \t{\n\t\t\t  \t(this.props.toggleTaskComplete)\n\t\t\t  \t?\n\t\t\t  \t\t<h3>Change complete?</h3>\n\t\t\t\t:\n\t\t\t\t<div>\n\t\t\t\t\t<div>\n\t\t\t\t    <label form=\"description\" className=\"f6 b db mb2\">Task Description</label>\n\t\t\t\t    <input \n\t\t\t\t    id=\"newDescription\" \n\t\t\t\t    className=\"input-reset ba b--black-20 pa2 mb2 db w-100\" \n\t\t\t\t    type=\"text\" \n\t\t\t\t    aria-describedby=\"description-desc\"\n\t\t\t\t    placeholder = {this.state.editingTaskDesc}\n\t\t\t\t    onChange={this.onDescriptionChange}\n\t\t\t\t    />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t}\n\t\t\t    <button\n\t\t\t    className='ph3 link dim f6 ph3 pv2 mb2 dib white bg-navy'\n\t\t\t    type='submit'\n\t\t\t    onClick={this.onSubmitEdit}\n\t\t\t    >Update</button>\n\t\t\t    <button\n\t\t\t    className='ph3 link dim f6 ph3 pv2 mb2 dib white bg-navy'\n\t\t\t    type='cancel'\n\t\t\t    onClick={this.onSubmitCancel}\n\t\t\t    >Cancel</button>\n\t\t\t  </div>\n\t\t\t</div>\n\t\t);\n\t} \n\n}\n\nexport default EditTaskForm;"]},"metadata":{},"sourceType":"module"}