{"ast":null,"code":"var _jsxFileName = \"/home/oz/Desktop/git/task-app-front/src/components/Photo/Photo.js\";\nimport React from 'react';\nimport anonymous from './anonymous.png';\n\nclass Photo extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.getUserAvatar = async () => {\n      const user = this.props.user;\n      console.log('user token', user.token);\n\n      try {\n        await fetch(`https://blech-task-manager.herokuapp.com/users/${user._id}/avatar`, {\n          method: 'get',\n          headers: {\n            Authorization: `Bearer ${user.token}`\n          }\n        }).then(response => {\n          if (response.status === 200) {\n            this.setState({\n              avatar: true\n            });\n          }\n        });\n      } catch (err) {\n        this.setState({\n          avatar: false\n        });\n      }\n    };\n\n    this.onPhotoChangeClick = () => {\n      // console.log(document.querySelector('#myfile').files[0])\n      const fileInput = document.querySelector('#myfile').files[0];\n      const formData = new FormData();\n      formData.append('avatar', fileInput);\n      fetch('https://blech-task-manager.herokuapp.com/users/me/avatar', {\n        method: 'post',\n        body: formData,\n        headers: {\n          Authorization: `Bearer ${this.props.user.token}`\n        }\n      }).then(response => {\n        if (response.status === 200) {\n          this.setState({\n            avatar: true\n          });\n        }\n      });\n    };\n\n    this.onPhotoDeleteClick = () => {\n      fetch('https://blech-task-manager.herokuapp.com/users/me/avatar', {\n        method: 'delete',\n        headers: {\n          Authorization: `Bearer ${this.props.user.token}`\n        }\n      });\n      this.setState({\n        avatar: false\n      });\n    };\n\n    this.state = {\n      avatar: false\n    };\n  }\n\n  componentDidMount() {\n    this.getUserAvatar();\n  }\n\n  render() {\n    const {\n      user\n    } = this.props;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"center pointer \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 5\n      }\n    }, this.state.avatar ? /*#__PURE__*/React.createElement(\"img\", {\n      alt: \"\",\n      src: `https://blech-task-manager.herokuapp.com/users/${user._id}/avatar`,\n      width: \"300px\",\n      height: \"auto\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 6\n      }\n    }) : /*#__PURE__*/React.createElement(\"img\", {\n      alt: \"\",\n      src: anonymous,\n      width: \"300px\",\n      height: \"auto\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 6\n      }\n    })), /*#__PURE__*/React.createElement(\"a\", {\n      class: \"child absolute top-1 right-1 ba bw1 black-40 grow no-underline br-100 w1 h1 pa2 lh-solid b\",\n      href: \"#\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 5\n      }\n    }, \"\\xD7\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 5\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"tc bg-blue dib br3 pa1 ma4 grow bw2 w-30 shadow-5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      className: \"f5 white ma4\",\n      action: \"/action_page.php\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 8\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"file\",\n      id: \"myfile\",\n      name: \"myfile\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 10\n      }\n    })))), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"outline w-15 f6 link dim ph3 pv2 mb2 dib white bg-dark-blue\",\n      type: \"submit\",\n      onClick: this.onPhotoChangeClick,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 8\n      }\n    }, \"Update Photo\"), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"outline w-15 f6 link dim ph3 pv2 mb2 dib white bg-dark-pink\",\n      type: \"delete\",\n      onClick: this.onPhotoDeleteClick,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 8\n      }\n    }, \"Delete Photo\")))));\n  }\n\n}\n\nexport default Photo;","map":{"version":3,"sources":["/home/oz/Desktop/git/task-app-front/src/components/Photo/Photo.js"],"names":["React","anonymous","Photo","Component","constructor","props","getUserAvatar","user","console","log","token","fetch","_id","method","headers","Authorization","then","response","status","setState","avatar","err","onPhotoChangeClick","fileInput","document","querySelector","files","formData","FormData","append","body","onPhotoDeleteClick","state","componentDidMount","render"],"mappings":"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","sourcesContent":["import React from 'react'\nimport anonymous from './anonymous.png'\n\n\n\n\nclass Photo extends React.Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tavatar: false\n\t\t}\n\t\t\n\t}\n\n\n\tgetUserAvatar = async() => {\n\t\tconst user = this.props.user\n\t\tconsole.log('user token', user.token)\n\t\ttry {\n\t\t\tawait fetch(`https://blech-task-manager.herokuapp.com/users/${user._id}/avatar`, {\n\t\t\tmethod: 'get',\n\t\t\theaders: {\n\t\t\t\tAuthorization: `Bearer ${user.token}`\n\t\t\t}\n\t\t\t})\n\t\t\t.then(response => {\n\t\t\t\tif(response.status === 200) {\n\t\t\t\t\tthis.setState({avatar: true})\n\t\t\t\t}\n\t\t\t})\n\t\t} catch(err) {\n\t\t\tthis.setState({avatar: false})\n\t\t}\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.getUserAvatar()\n\t}\n\n\n\tonPhotoChangeClick = () => {\n\t\t// console.log(document.querySelector('#myfile').files[0])\n\t\tconst fileInput = document.querySelector('#myfile').files[0]\n\t\tconst formData = new FormData()\n\t\tformData.append('avatar', fileInput)\n\t\tfetch('https://blech-task-manager.herokuapp.com/users/me/avatar', {\n\t\t\tmethod: 'post',\n\t\t\tbody: formData,\n\t\t\theaders: {\n\t\t\t\tAuthorization: `Bearer ${this.props.user.token}`\n\t\t\t}\n\t\t})\n\t\t.then(response => {\n\t\t\tif(response.status === 200) {\n\t\t\tthis.setState({avatar: true})\n\t\t\t}\n\t\t})\n\t}\n\n\tonPhotoDeleteClick = () => {\n\t\tfetch('https://blech-task-manager.herokuapp.com/users/me/avatar', {\n\t\t\tmethod: 'delete',\n\t\t\theaders: {\n\t\t\t\tAuthorization: `Bearer ${this.props.user.token}`\n\t\t\t}\n\t\t})\n\t\tthis.setState({avatar: false})\n\n\t}\n\n\trender() {\n\t\tconst { user } = this.props\n\t\treturn (\n\t\t\t<div >\n\t\t\t\t<div className='center pointer '>\n\t\t\t\t{\n\t\t\t\t\t(this.state.avatar) \n\t\t\t\t\t? \n\t\t\t\t\t<img alt='' \n\t\t\t\t\tsrc = {`https://blech-task-manager.herokuapp.com/users/${user._id}/avatar`} \n\t\t\t\t\twidth='300px' height='auto'/>\n\t\t\t\t\t:\n\t\t\t\t\t<img alt='' \n\t\t\t\t\tsrc = {anonymous} \n\t\t\t\t\twidth='300px' height='auto'/>\n\t\t\t\t}\n\t\t\t\t</div>\n\t\t\t\t<a class=\"child absolute top-1 right-1 ba bw1 black-40 grow no-underline br-100 w1 h1 pa2 lh-solid b\" href=\"#\">×</a>\n\t\t\t\t<br/>\n\t\t\t\t<div className='tc bg-blue dib br3 pa1 ma4 grow bw2 w-30 shadow-5'>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t<h4>\n\t\t\t\t\t\t\t<form className='f5 white ma4' action=\"/action_page.php\">\n\t\t\t\t\t\t  \t<input type=\"file\" id=\"myfile\" name=\"myfile\" />\n\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t</h4>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclassName='outline w-15 f6 link dim ph3 pv2 mb2 dib white bg-dark-blue'\n\t\t\t\t\t\t\ttype='submit'\n\t\t\t\t\t\t\tonClick={this.onPhotoChangeClick}\n\t\t\t\t\t\t\t>Update Photo</button>\n\t\t\t\t\t\t\t<button \n\t\t\t\t\t\t\tclassName='outline w-15 f6 link dim ph3 pv2 mb2 dib white bg-dark-pink'\n\t\t\t\t\t\t\ttype='delete'\n\t\t\t\t\t\t\tonClick={this.onPhotoDeleteClick}\n\t\t\t\t\t\t\t>Delete Photo</button>\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t</div>\n\t\t);\n\t}\n\t\n}\n\nexport default Photo\n"]},"metadata":{},"sourceType":"module"}