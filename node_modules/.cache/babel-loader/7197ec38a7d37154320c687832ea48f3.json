{"ast":null,"code":"import _classCallCheck from\"/home/oz/Desktop/git/task-app-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/oz/Desktop/git/task-app-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/oz/Desktop/git/task-app-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/oz/Desktop/git/task-app-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';var EditTaskForm=/*#__PURE__*/function(_React$Component){_inherits(EditTaskForm,_React$Component);var _super=_createSuper(EditTaskForm);function EditTaskForm(props){var _this;_classCallCheck(this,EditTaskForm);_this=_super.call(this,props);_this.onDescriptionChange=function(event){_this.setState({newDescription:event.target.value});};_this.onSubmitEdit=function(){var _this$state=_this.state,user=_this$state.user,newDescription=_this$state.newDescription,completed=_this$state.completed,taskToEditId=_this$state.taskToEditId;console.log('token is',user.token);fetch(\"https://blech-task-manager.herokuapp.com/tasks/\".concat(taskToEditId),{method:'PATCH',headers:{'content-type':'application/json; charset=UTF-8',Authorization:\"Bearer \".concat(user.token)},body:JSON.stringify({description:newDescription})}).then(function(response){return response.json();}).then(function(jsonData){console.log('add task: ',jsonData);if(jsonData.description){var _user=jsonData.user,token=jsonData.token;_this.props.getUserTasks();}});};_this.state={user:_this.props.user,editingTaskDesc:_this.props.editingTaskDesc,completed:_this.props.completed,taskToEditId:_this.props.taskToEditId,getUserTasks:_this.props.getUserTasks,newDescription:''};return _this;}_createClass(EditTaskForm,[{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",{className:\"pa4 black-80 flex justify-center\"},/*#__PURE__*/React.createElement(\"div\",{className:\"measure \"},/*#__PURE__*/React.createElement(\"label\",{form:\"description\",className:\"f6 b db mb2\"},\"Task Description\"),/*#__PURE__*/React.createElement(\"input\",{id:\"newDescription\",className:\"input-reset ba b--black-20 pa2 mb2 db w-100\",type:\"text\",\"aria-describedby\":\"description-desc\",placeholder:this.state.editingTaskDesc,onChange:this.onDescriptionChange}),/*#__PURE__*/React.createElement(\"button\",{className:\"ph3 link dim f6 ph3 pv2 mb2 dib white bg-navy\",type:\"submit\",onClick:this.onSubmitEdit},\"Update\")));}}]);return EditTaskForm;}(React.Component);export default EditTaskForm;","map":{"version":3,"sources":["/home/oz/Desktop/git/task-app-front/src/components/EditTaskForm/EditTaskForm.js"],"names":["React","EditTaskForm","props","onDescriptionChange","event","setState","newDescription","target","value","onSubmitEdit","state","user","completed","taskToEditId","console","log","token","fetch","method","headers","Authorization","body","JSON","stringify","description","then","response","json","jsonData","getUserTasks","editingTaskDesc","Component"],"mappings":"wlBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,C,GAEMC,CAAAA,Y,wHACL,sBAAYC,KAAZ,CAAmB,8CAClB,uBAAMA,KAAN,EADkB,MAYnBC,mBAZmB,CAYG,SAACC,KAAD,CAAW,CAChC,MAAKC,QAAL,CAAc,CAACC,cAAc,CAAEF,KAAK,CAACG,MAAN,CAAaC,KAA9B,CAAd,EACA,CAdkB,OAiBnBC,YAjBmB,CAiBJ,UAAM,iBACsC,MAAKC,KAD3C,CACZC,IADY,aACZA,IADY,CACNL,cADM,aACNA,cADM,CACUM,SADV,aACUA,SADV,CACqBC,YADrB,aACqBA,YADrB,CAEpBC,OAAO,CAACC,GAAR,CAAY,UAAZ,CAAwBJ,IAAI,CAACK,KAA7B,EACAC,KAAK,0DAAmDJ,YAAnD,EAAmE,CACvEK,MAAM,CAAE,OAD+D,CAEvEC,OAAO,CAAE,CACR,eAAgB,iCADR,CAERC,aAAa,kBAAYT,IAAI,CAACK,KAAjB,CAFL,CAF8D,CAOvEK,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CACpBC,WAAW,CAAElB,cADO,CAAf,CAPiE,CAAnE,CAAL,CAWCmB,IAXD,CAWM,SAAAC,QAAQ,QAAGA,CAAAA,QAAQ,CAACC,IAAT,EAAH,EAXd,EAYCF,IAZD,CAYM,SAAAG,QAAQ,CAAG,CAChBd,OAAO,CAACC,GAAR,CAAY,YAAZ,CAA0Ba,QAA1B,EACA,GAAIA,QAAQ,CAACJ,WAAb,CAA0B,IACjBb,CAAAA,KADiB,CACDiB,QADC,CACjBjB,IADiB,CACXK,KADW,CACDY,QADC,CACXZ,KADW,CAEzB,MAAKd,KAAL,CAAW2B,YAAX,GACA,CACD,CAlBD,EAmBA,CAvCkB,CAElB,MAAKnB,KAAL,CAAa,CACZC,IAAI,CAAE,MAAKT,KAAL,CAAWS,IADL,CAEZmB,eAAe,CAAE,MAAK5B,KAAL,CAAW4B,eAFhB,CAGZlB,SAAS,CAAE,MAAKV,KAAL,CAAWU,SAHV,CAIZC,YAAY,CAAE,MAAKX,KAAL,CAAWW,YAJb,CAKZgB,YAAY,CAAE,MAAK3B,KAAL,CAAW2B,YALb,CAMZvB,cAAc,CAAE,EANJ,CAAb,CAFkB,aAUlB,C,gEAgCQ,CACR,mBACC,2BAAK,SAAS,CAAC,kCAAf,eACE,2BAAK,SAAS,CAAC,UAAf,eACE,6BAAO,IAAI,CAAC,aAAZ,CAA0B,SAAS,CAAC,aAApC,qBADF,cAEE,6BACA,EAAE,CAAC,gBADH,CAEA,SAAS,CAAC,6CAFV,CAGA,IAAI,CAAC,MAHL,CAIA,mBAAiB,kBAJjB,CAKA,WAAW,CAAI,KAAKI,KAAL,CAAWoB,eAL1B,CAMA,QAAQ,CAAE,KAAK3B,mBANf,EAFF,cAUE,8BACA,SAAS,CAAC,+CADV,CAEA,IAAI,CAAC,QAFL,CAGA,OAAO,CAAE,KAAKM,YAHd,WAVF,CADF,CADD,CAoBA,C,0BAhEyBT,KAAK,CAAC+B,S,EAoEjC,cAAe9B,CAAAA,YAAf","sourcesContent":["import React from 'react'\n\nclass EditTaskForm extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tuser: this.props.user,\n\t\t\teditingTaskDesc: this.props.editingTaskDesc,\n\t\t\tcompleted: this.props.completed,\n\t\t\ttaskToEditId: this.props.taskToEditId,\n\t\t\tgetUserTasks: this.props.getUserTasks,\n\t\t\tnewDescription: ''\n\t\t}\n\t}\n\n\tonDescriptionChange = (event) => {\n\t\tthis.setState({newDescription: event.target.value})\n\t}\n\n\n\tonSubmitEdit = () => {\n\t\tconst { user, newDescription, completed, taskToEditId } = this.state\n\t\tconsole.log('token is', user.token)\n\t\tfetch(`https://blech-task-manager.herokuapp.com/tasks/${taskToEditId}`, {\n\t\t\tmethod: 'PATCH',\n\t\t\theaders: {\n\t\t\t\t'content-type': 'application/json; charset=UTF-8',\n\t\t\t\tAuthorization: `Bearer ${user.token}`\n\t\t\t},\n\n\t\t\tbody: JSON.stringify({\n\t\t\t\tdescription: newDescription\n\t\t\t})\n\t\t})\n\t\t.then(response=> response.json())\n\t\t.then(jsonData=> {\n\t\t\tconsole.log('add task: ', jsonData)\n\t\t\tif (jsonData.description) {\n\t\t\t\tconst { user, token } = jsonData\n\t\t\t\tthis.props.getUserTasks()\n\t\t\t}\n\t\t})\n\t}\n\n\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"pa4 black-80 flex justify-center\">\n\t\t\t  <div className=\"measure \">\n\t\t\t    <label form=\"description\" className=\"f6 b db mb2\">Task Description</label>\n\t\t\t    <input \n\t\t\t    id=\"newDescription\" \n\t\t\t    className=\"input-reset ba b--black-20 pa2 mb2 db w-100\" \n\t\t\t    type=\"text\" \n\t\t\t    aria-describedby=\"description-desc\"\n\t\t\t    placeholder = {this.state.editingTaskDesc}\n\t\t\t    onChange={this.onDescriptionChange}\n\t\t\t    />\n\t\t\t    <button\n\t\t\t    className='ph3 link dim f6 ph3 pv2 mb2 dib white bg-navy'\n\t\t\t    type='submit'\n\t\t\t    onClick={this.onSubmitEdit}\n\t\t\t    >Update</button>\n\t\t\t  </div>\n\t\t\t</div>\n\t\t);\n\t} \n\n}\n\nexport default EditTaskForm;"]},"metadata":{},"sourceType":"module"}