{"ast":null,"code":"import _classCallCheck from\"/home/oz/Desktop/git/task-app-chrome/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/oz/Desktop/git/task-app-chrome/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/oz/Desktop/git/task-app-chrome/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/oz/Desktop/git/task-app-chrome/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';var RegisterForm=/*#__PURE__*/function(_React$Component){_inherits(RegisterForm,_React$Component);var _super=_createSuper(RegisterForm);function RegisterForm(props){var _this;_classCallCheck(this,RegisterForm);_this=_super.call(this,props);_this.onNameChange=function(event){_this.setState({name:event.target.value});};_this.onEmailChange=function(event){_this.setState({email:event.target.value});};_this.onPasswordChange=function(event){_this.setState({password:event.target.value});};_this.onSubmitRegister=function(){_this.setState({emailErrorMsg:'',passwordErrorMsg:'',nameErrorMsg:''});fetch('https://blech-task-manager.herokuapp.com/users',{method:'post',headers:{'content-type':'application/json'},body:JSON.stringify({email:_this.state.email,name:_this.state.name,password:_this.state.password})}).then(function(response){return response.json();}).then(function(jsonData){if(jsonData.user){var user=jsonData.user,token=jsonData.token;_this.props.loadUser(user,token);console.log('Register: ',user,token);_this.props.onRouteChange('home');}else if(jsonData.errors){if(jsonData.errors.email){_this.setState({emailErrorMsg:jsonData.errors.email.message});}if(jsonData.errors.password){_this.setState({passwordErrorMsg:'Password is invalid'});}if(jsonData.errors.name){_this.setState({nameErrorMsg:'Name is invalid'});}}});};_this.state={email:'',password:'',name:'',passwordErrorMsg:'',emailErrorMsg:'',nameErrorMsg:''};return _this;}_createClass(RegisterForm,[{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"article\",{className:\"br3 ba dark-gray b--black-10 mv4 w-100 w-50-m w-25-l mw6 shadow-5 center\"},/*#__PURE__*/React.createElement(\"main\",{className:\"pa4 black-80\"},/*#__PURE__*/React.createElement(\"div\",{className:\"measure\"},/*#__PURE__*/React.createElement(\"fieldset\",{id:\"sign_up\",className:\"ba b--transparent ph0 mh0\"},/*#__PURE__*/React.createElement(\"legend\",{className:\"f4 fw6 ph0 mh0\"},\"Register\"),/*#__PURE__*/React.createElement(\"div\",{className:\"mt3\"},/*#__PURE__*/React.createElement(\"label\",{className:\"db fw6 lh-copy f6\",htmlFor:\"name\"},\"Name\"),/*#__PURE__*/React.createElement(\"input\",{className:\"pa2 input-reset ba bg-transparent hover-bg-black hover-white w-92\",type:\"name\",name:\"name\",id:\"name\",onChange:this.onNameChange})),/*#__PURE__*/React.createElement(\"div\",{className:\"mt3\"},/*#__PURE__*/React.createElement(\"label\",{className:\"db fw6 lh-copy f6\",htmlFor:\"email-address\"},\"Email\"),/*#__PURE__*/React.createElement(\"input\",{className:\"pa2 input-reset ba bg-transparent hover-bg-black hover-white w-100\",type:\"email\",name:\"email-address\",id:\"email-address\",onChange:this.onEmailChange})),/*#__PURE__*/React.createElement(\"div\",{className:\"mv3\"},/*#__PURE__*/React.createElement(\"label\",{className:\"db fw6 lh-copy f6\",htmlFor:\"password\"},\"Password\"),/*#__PURE__*/React.createElement(\"input\",{className:\"b pa2 input-reset ba bg-transparent hover-bg-black hover-white w-100\",type:\"password\",name:\"password\",id:\"password\",onChange:this.onPasswordChange}))),/*#__PURE__*/React.createElement(\"div\",{className:\"\"},/*#__PURE__*/React.createElement(\"input\",{className:\"b ph3 pv2 input-reset ba b--black bg-transparent grow pointer f6 dib\",type:\"submit\",value:\"register\",onClick:this.onSubmitRegister}))),/*#__PURE__*/React.createElement(\"h6\",{className:\"red pa1 mv1\"},this.state.nameErrorMsg),/*#__PURE__*/React.createElement(\"h6\",{className:\"red pa1 mv1 black-80\"},this.state.emailErrorMsg),/*#__PURE__*/React.createElement(\"h6\",{className:\"red pa1 mv1\"},this.state.passwordErrorMsg)));}}]);return RegisterForm;}(React.Component);export default RegisterForm;","map":{"version":3,"sources":["/home/oz/Desktop/git/task-app-chrome/src/components/RegisterForm/RegisterForm.js"],"names":["React","RegisterForm","props","onNameChange","event","setState","name","target","value","onEmailChange","email","onPasswordChange","password","onSubmitRegister","emailErrorMsg","passwordErrorMsg","nameErrorMsg","fetch","method","headers","body","JSON","stringify","state","then","response","json","jsonData","user","token","loadUser","console","log","onRouteChange","errors","message","Component"],"mappings":"4lBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,C,GAEMC,CAAAA,Y,wHACL,sBAAYC,KAAZ,CAAmB,8CAClB,uBAAMA,KAAN,EADkB,MAYnBC,YAZmB,CAYJ,SAACC,KAAD,CAAW,CACzB,MAAKC,QAAL,CAAc,CAACC,IAAI,CAAEF,KAAK,CAACG,MAAN,CAAaC,KAApB,CAAd,EACA,CAdkB,OAiBnBC,aAjBmB,CAiBH,SAACL,KAAD,CAAW,CAC1B,MAAKC,QAAL,CAAc,CAACK,KAAK,CAAEN,KAAK,CAACG,MAAN,CAAaC,KAArB,CAAd,EACA,CAnBkB,OAsBnBG,gBAtBmB,CAsBA,SAACP,KAAD,CAAW,CAC7B,MAAKC,QAAL,CAAc,CAACO,QAAQ,CAAER,KAAK,CAACG,MAAN,CAAaC,KAAxB,CAAd,EACA,CAxBkB,OA0BnBK,gBA1BmB,CA0BA,UAAM,CACxB,MAAKR,QAAL,CAAc,CACbS,aAAa,CAAE,EADF,CAEbC,gBAAgB,CAAE,EAFL,CAGbC,YAAY,CAAE,EAHD,CAAd,EAKAC,KAAK,CAAC,gDAAD,CAAmD,CACxDC,MAAM,CAAE,MADgD,CAExDC,OAAO,CAAE,CAAC,eAAgB,kBAAjB,CAF+C,CAGxDC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CACpBZ,KAAK,CAAC,MAAKa,KAAL,CAAWb,KADG,CAEpBJ,IAAI,CAAE,MAAKiB,KAAL,CAAWjB,IAFG,CAGpBM,QAAQ,CAAE,MAAKW,KAAL,CAAWX,QAHD,CAAf,CAHkD,CAAnD,CAAL,CASCY,IATD,CASM,SAAAC,QAAQ,QAAGA,CAAAA,QAAQ,CAACC,IAAT,EAAH,EATd,EAUCF,IAVD,CAUM,SAAAG,QAAQ,CAAG,CAChB,GAAIA,QAAQ,CAACC,IAAb,CAAmB,IACVA,CAAAA,IADU,CACMD,QADN,CACVC,IADU,CACJC,KADI,CACMF,QADN,CACJE,KADI,CAElB,MAAK3B,KAAL,CAAW4B,QAAX,CAAoBF,IAApB,CAA0BC,KAA1B,EACAE,OAAO,CAACC,GAAR,CAAY,YAAZ,CAA0BJ,IAA1B,CAAgCC,KAAhC,EACA,MAAK3B,KAAL,CAAW+B,aAAX,CAAyB,MAAzB,EACA,CALD,IAMK,IAAIN,QAAQ,CAACO,MAAb,CAAqB,CACzB,GAAGP,QAAQ,CAACO,MAAT,CAAgBxB,KAAnB,CAA0B,CACzB,MAAKL,QAAL,CAAc,CAACS,aAAa,CAAEa,QAAQ,CAACO,MAAT,CAAgBxB,KAAhB,CAAsByB,OAAtC,CAAd,EACA,CACD,GAAGR,QAAQ,CAACO,MAAT,CAAgBtB,QAAnB,CAA6B,CAC5B,MAAKP,QAAL,CAAc,CAACU,gBAAgB,CAAE,qBAAnB,CAAd,EACA,CACD,GAAGY,QAAQ,CAACO,MAAT,CAAgB5B,IAAnB,CAAyB,CACxB,MAAKD,QAAL,CAAc,CAACW,YAAY,CAAE,iBAAf,CAAd,EACA,CACD,CACD,CA5BD,EA6BA,CA7DkB,CAElB,MAAKO,KAAL,CAAa,CACZb,KAAK,CAAE,EADK,CAEZE,QAAQ,CAAE,EAFE,CAGZN,IAAI,CAAE,EAHM,CAIZS,gBAAgB,CAAE,EAJN,CAKZD,aAAa,CAAE,EALH,CAMZE,YAAY,CAAE,EANF,CAAb,CAFkB,aAUlB,C,gEAqDQ,CACR,mBACC,+BAAS,SAAS,CAAC,0EAAnB,eACC,4BAAM,SAAS,CAAC,cAAhB,eACE,2BAAK,SAAS,CAAC,SAAf,eACE,gCAAU,EAAE,CAAC,SAAb,CAAuB,SAAS,CAAC,2BAAjC,eACE,8BAAQ,SAAS,CAAC,gBAAlB,aADF,cAEE,2BAAK,SAAS,CAAC,KAAf,eACE,6BAAO,SAAS,CAAC,mBAAjB,CAAqC,OAAO,CAAC,MAA7C,SADF,cAEE,6BAAO,SAAS,CAAC,mEAAjB,CACA,IAAI,CAAC,MADL,CAEA,IAAI,CAAC,MAFL,CAGA,EAAE,CAAC,MAHH,CAIA,QAAQ,CAAE,KAAKb,YAJf,EAFF,CAFF,cAWE,2BAAK,SAAS,CAAC,KAAf,eACE,6BAAO,SAAS,CAAC,mBAAjB,CAAqC,OAAO,CAAC,eAA7C,UADF,cAEE,6BAAO,SAAS,CAAC,oEAAjB,CACA,IAAI,CAAC,OADL,CAEA,IAAI,CAAC,eAFL,CAGA,EAAE,CAAC,eAHH,CAIA,QAAQ,CAAE,KAAKM,aAJf,EAFF,CAXF,cAoBE,2BAAK,SAAS,CAAC,KAAf,eACE,6BAAO,SAAS,CAAC,mBAAjB,CAAqC,OAAO,CAAC,UAA7C,aADF,cAEE,6BAAO,SAAS,CAAC,sEAAjB,CACC,IAAI,CAAC,UADN,CAEC,IAAI,CAAC,UAFN,CAGC,EAAE,CAAC,UAHJ,CAIC,QAAQ,CAAE,KAAKE,gBAJhB,EAFF,CApBF,CADF,cA+BE,2BAAK,SAAS,CAAC,EAAf,eACE,6BACA,SAAS,CAAC,sEADV,CAEA,IAAI,CAAC,QAFL,CAGA,KAAK,CAAC,UAHN,CAIA,OAAO,CAAE,KAAKE,gBAJd,EADF,CA/BF,CADF,cAyCE,0BAAI,SAAS,CAAC,aAAd,EAA6B,KAAKU,KAAL,CAAWP,YAAxC,CAzCF,cA0CE,0BAAI,SAAS,CAAC,sBAAd,EAAsC,KAAKO,KAAL,CAAWT,aAAjD,CA1CF,cA2CI,0BAAI,SAAS,CAAC,aAAd,EAA6B,KAAKS,KAAL,CAAWR,gBAAxC,CA3CJ,CADD,CADD,CAiDA,C,0BAlHyBf,KAAK,CAACoC,S,EAsHjC,cAAenC,CAAAA,YAAf","sourcesContent":["import React from 'react'\n\nclass RegisterForm extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\temail: '',\n\t\t\tpassword: '',\n\t\t\tname: '',\n\t\t\tpasswordErrorMsg: '',\n\t\t\temailErrorMsg: '',\n\t\t\tnameErrorMsg: ''\n\t\t}\n\t}\n\n\tonNameChange = (event) => {\n\t\tthis.setState({name: event.target.value})\n\t}\n\n\n\tonEmailChange = (event) => {\n\t\tthis.setState({email: event.target.value})\n\t}\n\n\n\tonPasswordChange = (event) => {\n\t\tthis.setState({password: event.target.value})\n\t} \n\n\tonSubmitRegister = () => {\n\t\tthis.setState({\n\t\t\temailErrorMsg: '',\n\t\t\tpasswordErrorMsg: '',\n\t\t\tnameErrorMsg: ''\n\t\t})\n\t\tfetch('https://blech-task-manager.herokuapp.com/users', {\n\t\tmethod: 'post',\n\t\theaders: {'content-type': 'application/json'},\n\t\tbody: JSON.stringify({\n\t\t\temail:this.state.email,\n\t\t\tname: this.state.name,\n\t\t\tpassword: this.state.password\n\t\t})\n\t\t})\n\t\t.then(response=> response.json())\n\t\t.then(jsonData=> {\n\t\t\tif (jsonData.user) {\n\t\t\t\tconst { user, token } = jsonData\n\t\t\t\tthis.props.loadUser(user, token)\n\t\t\t\tconsole.log('Register: ', user, token)\n\t\t\t\tthis.props.onRouteChange('home')\n\t\t\t}\n\t\t\telse if (jsonData.errors) {\n\t\t\t\tif(jsonData.errors.email) {\n\t\t\t\t\tthis.setState({emailErrorMsg: jsonData.errors.email.message})\n\t\t\t\t}\n\t\t\t\tif(jsonData.errors.password) {\n\t\t\t\t\tthis.setState({passwordErrorMsg: 'Password is invalid'})\n\t\t\t\t}\n\t\t\t\tif(jsonData.errors.name) {\n\t\t\t\t\tthis.setState({nameErrorMsg: 'Name is invalid'})\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<article className=\"br3 ba dark-gray b--black-10 mv4 w-100 w-50-m w-25-l mw6 shadow-5 center\">\n\t\t\t\t<main className=\"pa4 black-80\">\n\t\t\t\t  <div className=\"measure\">\n\t\t\t\t    <fieldset id=\"sign_up\" className=\"ba b--transparent ph0 mh0\">\n\t\t\t\t      <legend className=\"f4 fw6 ph0 mh0\">Register</legend>\n\t\t\t\t      <div className=\"mt3\">\n\t\t\t\t        <label className=\"db fw6 lh-copy f6\" htmlFor=\"name\">Name</label>\n\t\t\t\t        <input className=\"pa2 input-reset ba bg-transparent hover-bg-black hover-white w-92\" \n\t\t\t\t        type=\"name\" \n\t\t\t\t        name=\"name\"  \n\t\t\t\t        id=\"name\"\n\t\t\t\t        onChange={this.onNameChange}\n\t\t\t\t        />\n\t\t\t\t      </div>\n\t\t\t\t      <div className=\"mt3\">\n\t\t\t\t        <label className=\"db fw6 lh-copy f6\" htmlFor=\"email-address\">Email</label>\n\t\t\t\t        <input className=\"pa2 input-reset ba bg-transparent hover-bg-black hover-white w-100\" \n\t\t\t\t        type=\"email\" \n\t\t\t\t        name=\"email-address\"  \n\t\t\t\t        id=\"email-address\"\n\t\t\t\t        onChange={this.onEmailChange} \n\t\t\t\t        />\n\t\t\t\t      </div>\n\t\t\t\t      <div className=\"mv3\">\n\t\t\t\t        <label className=\"db fw6 lh-copy f6\" htmlFor=\"password\">Password</label>\n\t\t\t\t        <input className=\"b pa2 input-reset ba bg-transparent hover-bg-black hover-white w-100\" \n\t\t\t\t        \ttype=\"password\" \n\t\t\t\t        \tname=\"password\"  \n\t\t\t\t        \tid=\"password\"\n\t\t\t\t        \tonChange={this.onPasswordChange} \n\t\t\t\t        \t/>\n\t\t\t\t      </div>\n\t\t\t\t    </fieldset>\n\t\t\t\t    <div className=\"\">\n\t\t\t\t      <input \n\t\t\t\t      className=\"b ph3 pv2 input-reset ba b--black bg-transparent grow pointer f6 dib\" \n\t\t\t\t      type=\"submit\" \n\t\t\t\t      value=\"register\"\n\t\t\t\t      onClick={this.onSubmitRegister} \n\t\t\t\t      />\n\t\t\t\t    </div>\n\t\t\t\t  </div>\n\t\t\t\t  <h6 className='red pa1 mv1'>{this.state.nameErrorMsg}</h6>\n\t\t\t\t  <h6 className='red pa1 mv1 black-80'>{this.state.emailErrorMsg}</h6>\n\t\t\t  \t  <h6 className='red pa1 mv1'>{this.state.passwordErrorMsg}</h6>\n\t\t\t\t</main>\n\t\t\t</article>\n\t\t);\n\t}\n\t\n}\n\nexport default RegisterForm;"]},"metadata":{},"sourceType":"module"}