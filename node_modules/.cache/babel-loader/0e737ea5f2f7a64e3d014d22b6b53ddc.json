{"ast":null,"code":"var _jsxFileName = \"/home/oz/Desktop/git/task-app-front/src/components/RegisterForm/RegisterForm.js\";\nimport React from 'react';\n\nclass RegisterForm extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.onNameChange = event => {\n      this.setState({\n        name: event.target.value\n      });\n    };\n\n    this.onEmailChange = event => {\n      this.setState({\n        email: event.target.value\n      });\n    };\n\n    this.onPasswordChange = event => {\n      this.setState({\n        password: event.target.value\n      });\n    };\n\n    this.onSubmitRegister = () => {\n      this.setState({\n        emailErrorMsg: '',\n        passwordErrorMsg: ''\n      });\n      fetch('https://blech-task-manager.herokuapp.com/users', {\n        method: 'post',\n        headers: {\n          'content-type': 'application/json'\n        },\n        body: JSON.stringify({\n          email: this.state.email,\n          name: this.state.name,\n          password: this.state.password\n        })\n      }).then(response => response.json()).then(jsonData => {\n        if (jsonData.user) {\n          const {\n            user,\n            token\n          } = jsonData;\n          this.props.loadUser(user, token);\n          console.log('Register: ', user, token);\n          this.props.onRouteChange('home');\n        } else if (jsonData.errors) {\n          if (jsonData.errors.email) {\n            this.setState({\n              emailErrorMsg: jsonData.errors.email.message\n            });\n          }\n\n          if (jsonData.errors.password) {\n            this.setState({\n              passwordErrorMsg: 'Password is invalid'\n            });\n          }\n\n          if (jsonData.errors.name) {\n            this.setState({\n              nameErrorMsg: 'Name is invalid'\n            });\n          }\n        }\n      });\n    };\n\n    this.state = {\n      email: '',\n      password: '',\n      name: '',\n      passwordErrorMsg: '',\n      emailErrorMsg: '',\n      nameErrorMsg: ''\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"article\", {\n      className: \"br3 ba dark-gray b--black-10 mv4 w-100 w-50-m w-25-l mw6 shadow-5 center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(\"main\", {\n      className: \"pa4 black-80\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"measure\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"fieldset\", {\n      id: \"sign_up\",\n      className: \"ba b--transparent ph0 mh0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"legend\", {\n      className: \"f4 fw6 ph0 mh0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 11\n      }\n    }, \"Register\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"mt3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"db fw6 lh-copy f6\",\n      htmlFor: \"name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 13\n      }\n    }, \"Name\"), /*#__PURE__*/React.createElement(\"input\", {\n      className: \"pa2 input-reset ba bg-transparent hover-bg-black hover-white w-92\",\n      type: \"name\",\n      name: \"name\",\n      id: \"name\",\n      onChange: this.onNameChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"mt3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"db fw6 lh-copy f6\",\n      htmlFor: \"email-address\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 13\n      }\n    }, \"Email\"), /*#__PURE__*/React.createElement(\"input\", {\n      className: \"pa2 input-reset ba bg-transparent hover-bg-black hover-white w-100\",\n      type: \"email\",\n      name: \"email-address\",\n      id: \"email-address\",\n      onChange: this.onEmailChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"mv3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"db fw6 lh-copy f6\",\n      htmlFor: \"password\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 13\n      }\n    }, \"Password\"), /*#__PURE__*/React.createElement(\"input\", {\n      className: \"b pa2 input-reset ba bg-transparent hover-bg-black hover-white w-100\",\n      type: \"password\",\n      name: \"password\",\n      id: \"password\",\n      onChange: this.onPasswordChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 13\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      className: \"b ph3 pv2 input-reset ba b--black bg-transparent grow pointer f6 dib\",\n      type: \"submit\",\n      value: \"register\",\n      onClick: this.onSubmitRegister,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 11\n      }\n    }))), /*#__PURE__*/React.createElement(\"h6\", {\n      className: \"red pa1 mv1 black-80\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 7\n      }\n    }, this.state.emailErrorMsg), /*#__PURE__*/React.createElement(\"h6\", {\n      className: \"red pa1 mv1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 9\n      }\n    }, this.state.passwordErrorMsg)));\n  }\n\n}\n\nexport default RegisterForm;","map":{"version":3,"sources":["/home/oz/Desktop/git/task-app-front/src/components/RegisterForm/RegisterForm.js"],"names":["React","RegisterForm","Component","constructor","props","onNameChange","event","setState","name","target","value","onEmailChange","email","onPasswordChange","password","onSubmitRegister","emailErrorMsg","passwordErrorMsg","fetch","method","headers","body","JSON","stringify","state","then","response","json","jsonData","user","token","loadUser","console","log","onRouteChange","errors","message","nameErrorMsg","render"],"mappings":"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","sourcesContent":["import React from 'react'\n\nclass RegisterForm extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\temail: '',\n\t\t\tpassword: '',\n\t\t\tname: '',\n\t\t\tpasswordErrorMsg: '',\n\t\t\temailErrorMsg: '',\n\t\t\tnameErrorMsg: ''\n\t\t}\n\t}\n\n\tonNameChange = (event) => {\n\t\tthis.setState({name: event.target.value})\n\t}\n\n\n\tonEmailChange = (event) => {\n\t\tthis.setState({email: event.target.value})\n\t}\n\n\n\tonPasswordChange = (event) => {\n\t\tthis.setState({password: event.target.value})\n\t} \n\n\tonSubmitRegister = () => {\n\t\tthis.setState({\n\t\t\temailErrorMsg: '',\n\t\t\tpasswordErrorMsg: ''\n\t\t})\n\t\tfetch('https://blech-task-manager.herokuapp.com/users', {\n\t\tmethod: 'post',\n\t\theaders: {'content-type': 'application/json'},\n\t\tbody: JSON.stringify({\n\t\t\temail:this.state.email,\n\t\t\tname: this.state.name,\n\t\t\tpassword: this.state.password\n\t\t})\n\t\t})\n\t\t.then(response=> response.json())\n\t\t.then(jsonData=> {\n\t\t\tif (jsonData.user) {\n\t\t\t\tconst { user, token } = jsonData\n\t\t\t\tthis.props.loadUser(user, token)\n\t\t\t\tconsole.log('Register: ', user, token)\n\t\t\t\tthis.props.onRouteChange('home')\n\t\t\t}\n\t\t\telse if (jsonData.errors) {\n\t\t\t\tif(jsonData.errors.email) {\n\t\t\t\t\tthis.setState({emailErrorMsg: jsonData.errors.email.message})\n\t\t\t\t}\n\t\t\t\tif(jsonData.errors.password) {\n\t\t\t\t\tthis.setState({passwordErrorMsg: 'Password is invalid'})\n\t\t\t\t}\n\t\t\t\tif(jsonData.errors.name) {\n\t\t\t\t\tthis.setState({nameErrorMsg: 'Name is invalid'})\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<article className=\"br3 ba dark-gray b--black-10 mv4 w-100 w-50-m w-25-l mw6 shadow-5 center\">\n\t\t\t\t<main className=\"pa4 black-80\">\n\t\t\t\t  <div className=\"measure\">\n\t\t\t\t    <fieldset id=\"sign_up\" className=\"ba b--transparent ph0 mh0\">\n\t\t\t\t      <legend className=\"f4 fw6 ph0 mh0\">Register</legend>\n\t\t\t\t      <div className=\"mt3\">\n\t\t\t\t        <label className=\"db fw6 lh-copy f6\" htmlFor=\"name\">Name</label>\n\t\t\t\t        <input className=\"pa2 input-reset ba bg-transparent hover-bg-black hover-white w-92\" \n\t\t\t\t        type=\"name\" \n\t\t\t\t        name=\"name\"  \n\t\t\t\t        id=\"name\"\n\t\t\t\t        onChange={this.onNameChange}\n\t\t\t\t        />\n\t\t\t\t      </div>\n\t\t\t\t      <div className=\"mt3\">\n\t\t\t\t        <label className=\"db fw6 lh-copy f6\" htmlFor=\"email-address\">Email</label>\n\t\t\t\t        <input className=\"pa2 input-reset ba bg-transparent hover-bg-black hover-white w-100\" \n\t\t\t\t        type=\"email\" \n\t\t\t\t        name=\"email-address\"  \n\t\t\t\t        id=\"email-address\"\n\t\t\t\t        onChange={this.onEmailChange} \n\t\t\t\t        />\n\t\t\t\t      </div>\n\t\t\t\t      <div className=\"mv3\">\n\t\t\t\t        <label className=\"db fw6 lh-copy f6\" htmlFor=\"password\">Password</label>\n\t\t\t\t        <input className=\"b pa2 input-reset ba bg-transparent hover-bg-black hover-white w-100\" \n\t\t\t\t        \ttype=\"password\" \n\t\t\t\t        \tname=\"password\"  \n\t\t\t\t        \tid=\"password\"\n\t\t\t\t        \tonChange={this.onPasswordChange} \n\t\t\t\t        \t/>\n\t\t\t\t      </div>\n\t\t\t\t    </fieldset>\n\t\t\t\t    <div className=\"\">\n\t\t\t\t      <input \n\t\t\t\t      className=\"b ph3 pv2 input-reset ba b--black bg-transparent grow pointer f6 dib\" \n\t\t\t\t      type=\"submit\" \n\t\t\t\t      value=\"register\"\n\t\t\t\t      onClick={this.onSubmitRegister} \n\t\t\t\t      />\n\t\t\t\t    </div>\n\t\t\t\t  </div>\n\t\t\t\t  <h6 className='red pa1 mv1 black-80'>{this.state.emailErrorMsg}</h6>\n\t\t\t  \t  <h6 className='red pa1 mv1'>{this.state.passwordErrorMsg}</h6>\n\t\t\t\t</main>\n\t\t\t</article>\n\t\t);\n\t}\n\t\n}\n\nexport default RegisterForm;"]},"metadata":{},"sourceType":"module"}