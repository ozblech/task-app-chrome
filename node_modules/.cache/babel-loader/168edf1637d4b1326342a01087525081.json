{"ast":null,"code":"var _jsxFileName = \"/home/oz/Desktop/git/task-app-front/src/components/Profile/Profile.js\";\nimport React from 'react';\nimport Photo from '../Photo/Photo';\nimport Tasks from '../Tasks/Tasks';\n\nclass Profile extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.onNameChange = event => {\n      this.setState({\n        nameInput: event.target.value\n      });\n    };\n\n    this.onEmailChange = event => {\n      this.setState({\n        emailInput: event.target.value\n      });\n    };\n\n    this.onAgeChange = event => {\n      this.setState({\n        ageInput: event.target.value\n      });\n    };\n\n    this.deleteUser = () => {\n      const {\n        onRouteChange,\n        user\n      } = this.props;\n      fetch('https://blech-task-manager.herokuapp.com/users/me/', {\n        method: 'delete',\n        headers: {\n          'content-type': 'application/json',\n          Authorization: `Bearer ${user.token}`\n        }\n      }).then(response => response.json()).then(jsonResponse => {\n        console.log(jsonResponse);\n\n        if (jsonResponse._id) {\n          onRouteChange('signout');\n        }\n      });\n    };\n\n    this.showUserDetails = () => {\n      const {\n        user\n      } = this.props;\n      return /*#__PURE__*/React.createElement(\"article\", {\n        className: \"grow pointer mw5 center br3 pa4-ns mv3 b--black-10\",\n        onClick: () => this.setState({\n          showEditUser: true\n        }),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 4\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"tc\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 5\n        }\n      }, /*#__PURE__*/React.createElement(\"h1\", {\n        className: \"f3 mb2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 6\n        }\n      }, `${user.name}`), /*#__PURE__*/React.createElement(\"h2\", {\n        className: \"f5 fw4 black mt0\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 6\n        }\n      }, `email: ${user.email}`), /*#__PURE__*/React.createElement(\"h2\", {\n        className: \"f5 fw4 black mt0\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 6\n        }\n      }, `age: ${user.age}`)));\n    };\n\n    this.onSubmitUpdate = () => {\n      const {\n        user\n      } = this.props;\n      let {\n        nameInput,\n        emailInput,\n        ageInput\n      } = this.state;\n      if (nameInput === '') nameInput = user.name;\n      if (emailInput === '') emailInput = user.email;\n      if (ageInput === '') ageInput = user.age;\n      fetch(`https://blech-task-manager.herokuapp.com/users/me`, {\n        method: 'PATCH',\n        headers: {\n          'content-type': 'application/json; charset=UTF-8',\n          Authorization: `Bearer ${user.token}`\n        },\n        body: JSON.stringify({\n          name: nameInput,\n          email: emailInput,\n          age: ageInput\n        })\n      }).then(response => response.json()).then(jsonData => {\n        if (jsonData._id) {\n          console.log(jsonData);\n          this.props.loadUser(jsonData, user.token);\n          this.setState({\n            showEditUser: false\n          });\n        } else {\n          if (jsonData.errors.email) {\n            this.setState({\n              emailErrorMessage: jsonData.errors.email.message\n            });\n          }\n\n          if (jsonData.errors.age) {\n            this.setState({\n              ageErrorMessage: 'Age must be a number'\n            });\n          }\n\n          console.log(jsonData.errors);\n        }\n      });\n    };\n\n    this.showUserEditForm = () => {\n      const {\n        user\n      } = this.props;\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"pa4 black-80 flex justify-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 4\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"measure\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 6\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        form: \"userDetails\",\n        className: \"f6 b db mb2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 8\n        }\n      }, \"Update User\"), /*#__PURE__*/React.createElement(\"input\", {\n        id: \"name\",\n        className: \"input-reset ba b--black-20 pa2 mb2 db w-100\",\n        type: \"text\",\n        onChange: this.onNameChange,\n        placeholder: user.name,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 8\n        }\n      }), /*#__PURE__*/React.createElement(\"input\", {\n        id: \"email\",\n        className: \"input-reset ba b--black-20 pa2 mb2 db w-100\",\n        type: \"text\",\n        onChange: this.onEmailChange,\n        placeholder: user.email,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 8\n        }\n      }), /*#__PURE__*/React.createElement(\"input\", {\n        id: \"age\",\n        className: \"input-reset ba b--black-20 pa2 mb2 db w-100\",\n        type: \"text\",\n        onChange: this.onAgeChange,\n        placeholder: user.age,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 8\n        }\n      }), /*#__PURE__*/React.createElement(\"button\", {\n        className: \"ph3 link dim f6 ph3 pv2 mb2 dib white bg-navy\",\n        type: \"update\",\n        onClick: () => this.onSubmitUpdate(),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 8\n        }\n      }, \"Update\"), /*#__PURE__*/React.createElement(\"button\", {\n        className: \"ph3 link dim f6 ph3 pv2 mb2 dib white bg-navy\",\n        type: \"update\",\n        onClick: () => this.setState({\n          showEditUser: false\n        }),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 8\n        }\n      }, \"Cancel\"), /*#__PURE__*/React.createElement(\"h6\", {\n        className: \"red pa1 mv1 black-80\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 8\n        }\n      }, this.state.emailErrorMessage), /*#__PURE__*/React.createElement(\"h6\", {\n        className: \"red pa1 mv1\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 7\n        }\n      }, this.state.ageErrorMessage)));\n    };\n\n    this.state = {\n      nameInput: '',\n      emailInput: '',\n      ageInput: '',\n      showEditUser: false,\n      ageErrorMessage: '',\n      emailErrorMessage: ''\n    };\n  }\n\n  render() {\n    const {\n      user\n    } = this.props;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 3\n      }\n    }, this.state.showEditUser ? this.showUserEditForm() : this.showUserDetails(), /*#__PURE__*/React.createElement(Photo, {\n      user: user,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 4\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 4\n      }\n    }), /*#__PURE__*/React.createElement(Tasks, {\n      user: user,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 4\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"w-30 grow f4 link ph3 pv dib white bg-light-purple\",\n      onClick: this.deleteUser,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 5\n      }\n    }, \"Delete User\")));\n  }\n\n}\n\nexport default Profile;","map":{"version":3,"sources":["/home/oz/Desktop/git/task-app-front/src/components/Profile/Profile.js"],"names":["React","Photo","Tasks","Profile","Component","constructor","props","onNameChange","event","setState","nameInput","target","value","onEmailChange","emailInput","onAgeChange","ageInput","deleteUser","onRouteChange","user","fetch","method","headers","Authorization","token","then","response","json","jsonResponse","console","log","_id","showUserDetails","showEditUser","name","email","age","onSubmitUpdate","state","body","JSON","stringify","jsonData","loadUser","errors","emailErrorMessage","message","ageErrorMessage","showUserEditForm","render"],"mappings":"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","sourcesContent":["import React from 'react'\nimport Photo from '../Photo/Photo'\nimport Tasks from '../Tasks/Tasks'\n\n\nclass Profile extends React.Component  {\n\t\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state={\n\t\t\tnameInput:'',\n\t\t\temailInput: '',\n\t\t\tageInput: '',\n\t\t\tshowEditUser: false,\n\t\t\tageErrorMessage: '',\n\t\t\temailErrorMessage: ''\n\t\t}\n\t}\n\n\tonNameChange = (event) => {\n\t\tthis.setState({nameInput: event.target.value})\n\t}\n\tonEmailChange = (event) => {\n\t\tthis.setState({emailInput: event.target.value})\n\t}\n\tonAgeChange = (event) => {\n\t\tthis.setState({ageInput: event.target.value})\n\t}\n\n\tdeleteUser = () => {\n\t\tconst { onRouteChange, user } = this.props\n\t\tfetch('https://blech-task-manager.herokuapp.com/users/me/', {\n\t\t\tmethod: 'delete',\n\t\t\theaders: {\n\t\t\t\t'content-type': 'application/json',\n\t\t\t\tAuthorization: `Bearer ${user.token}`\n\t\t\t}\n\t\t\t\n\t\t})\n\t\t.then(response => response.json())\n\t\t.then(jsonResponse => {\n\t\t\tconsole.log(jsonResponse)\n\t\t\tif(jsonResponse._id) {\n\t\t\t\tonRouteChange('signout')\n\t\t\t}\n\t\t})\t\n\t}\n\n\tshowUserDetails = () => {\n\t\tconst { user } = this.props\n\t\treturn(\n\t\t\t<article \n\t\t\tclassName = 'grow pointer mw5 center br3 pa4-ns mv3 b--black-10'\n\t\t\tonClick={()=> this.setState({showEditUser: true})}\n\t\t\t>\n\t\t\t\t<div className = 'tc'>\n\t\t\t\t\t<h1 className = 'f3 mb2'>{`${user.name}`}</h1>\n\t\t\t\t\t<h2 className = 'f5 fw4 black mt0'>{`email: ${user.email}`}</h2>\n\t\t\t\t\t<h2 className = 'f5 fw4 black mt0'>{`age: ${user.age}`}</h2>\n\t\t\t\t</div>\n\t\t\t</article>\n\t\t)\n\t}\n\n\tonSubmitUpdate = () => {\n\t\tconst { user } = this.props\n\t\tlet {nameInput, emailInput, ageInput} = this.state\n\t\tif(nameInput === '') nameInput = user.name\n\t\tif(emailInput === '') emailInput = user.email\n\t\tif(ageInput === '') ageInput = user.age\n\t\tfetch(`https://blech-task-manager.herokuapp.com/users/me`, {\n\t\t\tmethod: 'PATCH',\n\t\t\theaders: {\n\t\t\t\t'content-type': 'application/json; charset=UTF-8',\n\t\t\t\tAuthorization: `Bearer ${user.token}`\n\t\t\t},\n\n\t\t\tbody: JSON.stringify({\n\t\t\t\tname: nameInput,\n\t\t\t\temail: emailInput,\n\t\t\t\tage: ageInput\n\t\t\t})\n\t\t})\n\t\t.then(response=> response.json())\n\t\t.then(jsonData=> {\n\t\t\tif (jsonData._id) {\n\t\t\t\tconsole.log(jsonData)\n\t\t\t\tthis.props.loadUser(jsonData, user.token)\n\t\t\t\tthis.setState({showEditUser: false})\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif(jsonData.errors.email) {\n\t\t\t\t\tthis.setState({emailErrorMessage:jsonData.errors.email.message})\n\t\t\t\t}\n\t\t\t\tif(jsonData.errors.age) {\n\t\t\t\t\tthis.setState({ageErrorMessage:'Age must be a number'})\n\t\t\t\t}\n\t\t\t\tconsole.log(jsonData.errors)\n\t\t\t}\n\t\t})\n\t}\n\n\tshowUserEditForm = () => {\n\t\tconst {user} = this.props\n\t\t\n\t\treturn (\n\t\t\t<div className=\"pa4 black-80 flex justify-center\">\n\t\t\t  <div className=\"measure\">\n\t\t\t    <label form=\"userDetails\" className=\"f6 b db mb2\">Update User</label>\n\t\t\t    <input \n\t\t\t    id=\"name\" \n\t\t\t    className=\"input-reset ba b--black-20 pa2 mb2 db w-100\" \n\t\t\t    type=\"text\" \n\t\t\t    onChange={this.onNameChange}\n\t\t\t    placeholder={user.name}\n\t\t\t    />\n\t\t\t    <input \n\t\t\t    id=\"email\" \n\t\t\t    className=\"input-reset ba b--black-20 pa2 mb2 db w-100\" \n\t\t\t    type=\"text\" \n\t\t\t    onChange={this.onEmailChange}\n\t\t\t    placeholder={user.email}\n\t\t\t    />\n\t\t\t    <input \n\t\t\t    id=\"age\" \n\t\t\t    className=\"input-reset ba b--black-20 pa2 mb2 db w-100\" \n\t\t\t    type=\"text\" \n\t\t\t    onChange={this.onAgeChange}\n\t\t\t    placeholder={user.age}\n\t\t\t    />\n\t\t\t    <button\n\t\t\t    className='ph3 link dim f6 ph3 pv2 mb2 dib white bg-navy'\n\t\t\t    type='update'\n\t\t\t    onClick={() => this.onSubmitUpdate()}\n\t\t\t    >Update</button>\n\t\t\t    <button\n\t\t\t    className='ph3 link dim f6 ph3 pv2 mb2 dib white bg-navy'\n\t\t\t    type='update'\n\t\t\t    onClick={() => this.setState({showEditUser: false})}\n\t\t\t    >Cancel</button>\n\t\t\t    \n\t\t\t    <h6 className='red pa1 mv1 black-80'>{this.state.emailErrorMessage}</h6>\n\t\t\t  \t<h6 className='red pa1 mv1'>{this.state.ageErrorMessage}</h6>\n\t\t\t  </div>  \t\n\t\t\t</div>\n\t\t);\n\t}\n\n\trender() {\n\t\tconst {user} = this.props\n\t\treturn (\n\t\t<div>\n\t\t\t{\n\t\t\t\t(this.state.showEditUser)\n\t\t\t\t?\n\t\t\t\tthis.showUserEditForm()\n\t\t\t\t:\n\t\t\t\tthis.showUserDetails()\n\t\t\t}\n\t\t\t<Photo user={user}/>\n\t\t\t<br />\n\t\t\t<Tasks user={user}/>\n\t\t\t<div>\n\t\t\t\t<button className='w-30 grow f4 link ph3 pv dib white bg-light-purple'\n\t\t\t\tonClick= {this.deleteUser}\n\t\t\t\t>Delete User</button>\n\t\t\t</div>\n\n\n\t\t</div>\n\t\t);\n\t}\n\t\n\t\n}\n\nexport default Profile;"]},"metadata":{},"sourceType":"module"}