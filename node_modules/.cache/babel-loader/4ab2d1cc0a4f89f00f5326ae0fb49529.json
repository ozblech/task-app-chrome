{"ast":null,"code":"var _jsxFileName = \"/home/oz/Desktop/git/task-app-front/src/components/EditTaskForm/EditTaskForm.js\";\nimport React from 'react';\n\nclass EditTaskForm extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.onDescriptionChange = event => {\n      this.setState({\n        newDescription: event.target.value\n      });\n    };\n\n    this.onSubmitEdit = () => {\n      const {\n        user,\n        newDescription,\n        taskToEditId,\n        toggleTaskComplete,\n        taskCompletedStatus\n      } = this.state;\n      const patchBody = toggleTaskComplete ? {\n        completed: !taskCompletedStatus\n      } : {\n        description: newDescription\n      };\n      fetch(`https://blech-task-manager.herokuapp.com/tasks/${taskToEditId}`, {\n        method: 'PATCH',\n        headers: {\n          'content-type': 'application/json; charset=UTF-8',\n          Authorization: `Bearer ${user.token}`\n        },\n        body: JSON.stringify(patchBody)\n      }).then(response => response.json()).then(jsonData => {\n        if (jsonData.description) {\n          this.props.getUserTasks();\n          this.taskEditFormOff(false);\n        }\n      });\n    };\n\n    this.onSubmitDelete = () => {\n      const {\n        user,\n        taskToEditId\n      } = this.state;\n      fetch(`https://blech-task-manager.herokuapp.com/tasks/${taskToEditId}`, {\n        method: 'DELETE',\n        headers: {\n          'content-type': 'application/json; charset=UTF-8',\n          Authorization: `Bearer ${user.token}`\n        }\n      }).then(response => response.json()).then(jsonData => {\n        if (jsonData.description) {\n          this.props.getUserTasks();\n          this.taskEditFormOff(false);\n        }\n      });\n    };\n\n    this.taskEditFormOff = () => {\n      this.props.editTaskPageOnOff(false);\n    };\n\n    this.state = {\n      user: this.props.user,\n      editingTaskDesc: this.props.editingTaskDesc,\n      taskToEditId: this.props.taskToEditId,\n      getUserTasks: this.props.getUserTasks,\n      toggleTaskComplete: this.props.toggleTaskComplete,\n      taskCompletedStatus: this.props.taskCompletedStatus,\n      editTaskPageOnOff: this.props.editTaskPageOnOff,\n      newDescription: ''\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"pa4 black-80 flex justify-center center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"measure \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 6\n      }\n    }, this.props.toggleTaskComplete ? /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 8\n      }\n    }, \"Toggle complete?\") : /*#__PURE__*/React.createElement(\"div\", {\n      className: \"center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      form: \"description\",\n      className: \"f6 b db mb2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }\n    }, \"Add Task Description\"), /*#__PURE__*/React.createElement(\"input\", {\n      id: \"newDescription\",\n      className: \"input-reset ba b--black-20 pa2 mb2 db w-100\",\n      type: \"text\",\n      \"aria-describedby\": \"description-desc\",\n      placeholder: this.state.editingTaskDesc,\n      onChange: this.onDescriptionChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }\n    }))), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"ph3 link dim f6 ph3 pv2 mb2 dib white bg-navy\",\n      type: \"submit\",\n      onClick: this.onSubmitEdit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 8\n      }\n    }, \"Update\"), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"ph3 link dim f6 ph3 pv2 mb2 dib white bg-navy\",\n      type: \"cancel\",\n      onClick: this.taskEditFormOff,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 8\n      }\n    }, \"Cancel\"), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"ph3 link dim f6 ph3 pv2 mb2 dib white bg-navy\",\n      type: \"delete\",\n      onClick: this.onSubmitDelete,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 8\n      }\n    }, \"Delete\")));\n  }\n\n}\n\nexport default EditTaskForm;","map":{"version":3,"sources":["/home/oz/Desktop/git/task-app-front/src/components/EditTaskForm/EditTaskForm.js"],"names":["React","EditTaskForm","Component","constructor","props","onDescriptionChange","event","setState","newDescription","target","value","onSubmitEdit","user","taskToEditId","toggleTaskComplete","taskCompletedStatus","state","patchBody","completed","description","fetch","method","headers","Authorization","token","body","JSON","stringify","then","response","json","jsonData","getUserTasks","taskEditFormOff","onSubmitDelete","editTaskPageOnOff","editingTaskDesc","render"],"mappings":"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","sourcesContent":["import React from 'react'\n\nclass EditTaskForm extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tuser: this.props.user,\n\t\t\teditingTaskDesc: this.props.editingTaskDesc,\n\t\t\ttaskToEditId: this.props.taskToEditId,\n\t\t\tgetUserTasks: this.props.getUserTasks,\n\t\t\ttoggleTaskComplete: this.props.toggleTaskComplete,\n\t\t\ttaskCompletedStatus: this.props.taskCompletedStatus,\n\t\t\teditTaskPageOnOff: this.props.editTaskPageOnOff,\n\t\t\tnewDescription: ''\n\n\t\t}\n\t}\n\n\tonDescriptionChange = (event) => {\n\t\tthis.setState({newDescription: event.target.value})\n\t}\n\n\n\tonSubmitEdit = () => {\n\t\tconst { user, newDescription, taskToEditId, toggleTaskComplete, taskCompletedStatus } = this.state\n\t\tconst patchBody = (toggleTaskComplete) ?\n\t\t\t({\n\t\t\t\tcompleted : !taskCompletedStatus\n\t\t\t})\n\t\t\t:\n\t\t\t({\n\t\t\t\tdescription: newDescription\n\t\t\t})\n\n\t\tfetch(`https://blech-task-manager.herokuapp.com/tasks/${taskToEditId}`, {\n\t\t\tmethod: 'PATCH',\n\t\t\theaders: {\n\t\t\t\t'content-type': 'application/json; charset=UTF-8',\n\t\t\t\tAuthorization: `Bearer ${user.token}`\n\t\t\t},\n\n\t\t\tbody: JSON.stringify(patchBody)\n\t\t})\n\t\t.then(response=> response.json())\n\t\t.then(jsonData=> {\n\t\t\tif (jsonData.description) {\n\t\t\t\tthis.props.getUserTasks()\n\t\t\t\tthis.taskEditFormOff(false)\n\t\t\t}\n\t\t})\n\t}\n\n\tonSubmitDelete = () => {\n\t\tconst { user, taskToEditId } = this.state\n\n\t\tfetch(`https://blech-task-manager.herokuapp.com/tasks/${taskToEditId}`, {\n\t\t\tmethod: 'DELETE',\n\t\t\theaders: {\n\t\t\t\t'content-type': 'application/json; charset=UTF-8',\n\t\t\t\tAuthorization: `Bearer ${user.token}`\n\t\t\t},\n\t\t})\n\t\t.then(response=> response.json())\n\t\t.then(jsonData=> {\n\t\t\tif (jsonData.description) {\n\t\t\t\tthis.props.getUserTasks()\n\t\t\t\tthis.taskEditFormOff(false)\n\t\t\t}\n\t\t})\n\t}\n\n\ttaskEditFormOff = () => {\n\t\tthis.props.editTaskPageOnOff(false)\n\t}\n\n\n\trender() {\n\n\t\treturn (\n\t\t\t<div className=\"pa4 black-80 flex justify-center center\">\n\t\t\t  <div className=\"measure \">\n\t\t\t  \t{\n\t\t\t  \t(this.props.toggleTaskComplete)\n\t\t\t  \t?\n\t\t\t  \t\t<h3>Toggle complete?</h3>\n\t\t\t\t:\n\t\t\t\t<div className='center'>\n\t\t\t\t\t<div>\n\t\t\t\t    <label form=\"description\" className=\"f6 b db mb2\">Add Task Description</label>\n\t\t\t\t    <input \n\t\t\t\t    id=\"newDescription\" \n\t\t\t\t    className=\"input-reset ba b--black-20 pa2 mb2 db w-100\" \n\t\t\t\t    type=\"text\" \n\t\t\t\t    aria-describedby=\"description-desc\"\n\t\t\t\t    placeholder = {this.state.editingTaskDesc}\n\t\t\t\t    onChange={this.onDescriptionChange}\n\t\t\t\t    />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t}\n\t\t\t    <button\n\t\t\t    className='ph3 link dim f6 ph3 pv2 mb2 dib white bg-navy'\n\t\t\t    type='submit'\n\t\t\t    onClick={this.onSubmitEdit}\n\t\t\t    >Update</button>\n\t\t\t    <button\n\t\t\t    className='ph3 link dim f6 ph3 pv2 mb2 dib white bg-navy'\n\t\t\t    type='cancel'\n\t\t\t    onClick={this.taskEditFormOff}\n\t\t\t    >Cancel</button>\n\t\t\t    <button\n\t\t\t    className='ph3 link dim f6 ph3 pv2 mb2 dib white bg-navy'\n\t\t\t    type='delete'\n\t\t\t    onClick={this.onSubmitDelete}\n\t\t\t    >Delete</button>\n\t\t\t  </div>\n\t\t\t</div>\n\t\t);\n\t} \n\n}\n\nexport default EditTaskForm;"]},"metadata":{},"sourceType":"module"}